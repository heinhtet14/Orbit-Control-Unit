
/**
  ******************************************************************************
  * @file    sine_model_data.c
  * @author  AST Embedded Analytics Research Platform
  * @date    Fri Apr  1 10:00:04 2022
  * @brief   AI Tool Automatic Code Generator for Embedded NN computing
  ******************************************************************************
  * @attention
  *
  * Copyright (c) 2021 STMicroelectronics.
  * All rights reserved.
  *
  * This software is licensed under terms that can be found in the LICENSE file
  * in the root directory of this software component.
  * If no LICENSE file comes with this software, it is provided AS-IS.
  ******************************************************************************
  */
#include "sine_model_data.h"
#include "ai_platform_interface.h"

AI_API_DECLARE_BEGIN

AI_ALIGNED(32)
const ai_u64 s_sine_model_sine_model_weights_array_u64[ 161 ] = {
  0xbf0bc7fdbe9d732aU, 0xbeb98e143ebd966aU, 0x3eb68066bf154f6dU, 0xbe864d4c3f3096f6U,
  0xbee4ab68bf0c1b5fU, 0x3d68c5023f1e8f14U, 0xbf167aecbed3a7ffU, 0xbf0405d43d4b7305U,
  0x0U, 0xbf514d50U, 0x3eb50feb00000000U, 0x3c1315e6U,
  0x0U, 0x3eace365bf3255d4U, 0x0U, 0x3f436eddU,
  0xbb62c700bddf5c08U, 0xbd1859e0bec14613U, 0x3cd2ea503d8d924cU, 0xbe96d788bcc101c0U,
  0x3d8a9ca4be8b7a56U, 0xbe997a62be93adbeU, 0x3e9adc35be90b7cfU, 0x3b429c80be2f6fc0U,
  0xbd91044cbaebdf00U, 0xbde128ecbd1e15f6U, 0x3eac87c9be2c6bc6U, 0x3e72b356be5e7e07U,
  0xbbb8c9c0be54c93eU, 0x3e088893bcc010d6U, 0x3d7509083ec9f81fU, 0xbeb6926abd8c41e8U,
  0x3e02d6f2bebf507cU, 0xbdc6cb10be0b761eU, 0xbd6117bd3c986670U, 0xbce5e6e0beed61f1U,
  0x3eba2e313ecf8545U, 0x3f15146dbf53deeeU, 0xbc8494603ec015d7U, 0x3dadcfd43ece9213U,
  0x3e310112be9f92d3U, 0xbe376cc43eb95cdfU, 0x3e293e323e9bb7bfU, 0xbea9f636be88c1e2U,
  0x3da778243e4467d6U, 0x3d455e90be890769U, 0xbe16f6a83e032d92U, 0x3dc83d2cbd4143e7U,
  0xbc9448f03e545d1eU, 0x3ebcb107be15eb03U, 0xbdc8a60f3c5305c0U, 0xbc8b24f0bf4aeb8aU,
  0xbeca61ff3ea3ed2bU, 0x3e8c7a8a3ba7dd91U, 0xbc5dd1c0beafe1baU, 0x3de391443ec47ee5U,
  0x3e8ec377bd55b988U, 0xbebebc9f3ec2a4e9U, 0xbe754a193e99e289U, 0xbeb1ae10be0e5d19U,
  0xbe89cd65beddabd4U, 0xbed746cb3eb0f0c1U, 0x3ebdffc9bda87918U, 0x3dd6a42cbecaf898U,
  0xbe749bdcbcbda910U, 0x3e8ea225be0b3bddU, 0x3eaf388dbe0c0292U, 0x3e9c47993ea5a036U,
  0x3eaaf345bc33e120U, 0xbd10a32e3cf07181U, 0xbe25b0ecbe9d729fU, 0xbe9c6ebfbd482292U,
  0x3e8ab9033e333e5aU, 0x3e84f75f3f498fb1U, 0xbe1c8be93e97c631U, 0x3ec1f1933b430d9fU,
  0x3dd8b6c43eb224abU, 0xbd8155693ec212e3U, 0xbe9281f6beb39371U, 0x3d4c8790bf2f9a96U,
  0xbeae3003be10bf70U, 0x3ec2bbd93e9726a0U, 0x3df3951fbecd5a76U, 0xbe36d5503d1692ccU,
  0xbe3bec103e040372U, 0xbea26163be25912dU, 0xbe89ea623e7c0c32U, 0x3e94594fbcaf0300U,
  0xbe8dbfbcbe43a3bdU, 0x3cf061303bba4c00U, 0xbe63c438bed585a4U, 0x3ec2b683bddaaaa4U,
  0x3e417952bebd3c5aU, 0xbe9ff525be845060U, 0x3d135c803d750620U, 0xbe9bdd44be5c0ff4U,
  0xbe04f4e8bd1ba3e0U, 0xbdb26508bda95504U, 0x3ea60b5cbecc8c2cU, 0xbd075b183e492eb2U,
  0xbe36626e3d8b5c5cU, 0xbda52a543d2ce2b9U, 0x3c508fc03e059d06U, 0xbecc76edbe2ce7a9U,
  0x3dafb41c3a33f800U, 0x3deffff43d5afdd1U, 0xbe670ea2bed6a04eU, 0x3cd2ee303e90e957U,
  0xbe9d6722be8d067dU, 0x3dd26277be708d49U, 0x3eca6e1b3ec2f66dU, 0xbdbdd12c3e6730aaU,
  0x3e7fb0bebe77e997U, 0x3e7ace96bf2feabbU, 0x3ead91a63e0da00aU, 0xbeabd40ebdd89028U,
  0x3e4d643e3e840b15U, 0x3dbcb24fbed4b3daU, 0xbe5a5fc13e8e10bfU, 0xbed95af53ed244f7U,
  0xbd67d0b8bda7eab0U, 0x3c5033203e7c55deU, 0xbef5d2703d525898U, 0x3eccbd8fbe2d4f60U,
  0x3edca1fd3e50639aU, 0xbdde1d3f3e361a12U, 0x3ec7ab033eb73531U, 0xbe45f8973e7d89f3U,
  0x3e50e7363dbadc7cU, 0xbedb0375bee2b789U, 0xbdff0390be95926cU, 0x3c5584803e124b22U,
  0xbe4b01283de0c544U, 0x3ef9da49be5ca7baU, 0x3edb8e433eb43127U, 0xbe5d0518bb3db0aaU,
  0x3ebb67853e2e9d3aU, 0x3e9e8c2dbf2651dcU, 0xbf0240d9bd402e40U, 0xbea8c4663e100315U,
  0x3dbf6accbd460c10U, 0x3ed80551befd8a86U, 0xbe9fb551bed00a24U, 0x3e9acf953f1a4c58U,
  0x3e4a316800000000U, 0xbd1e44413e9f5fd2U, 0xbce35c483e977f7aU, 0xbf29e93dbdb796f4U,
  0xbd7c45d7U, 0xbd000565bde09e3aU, 0xbd85e0373ee30cc5U, 0x3e96b16e3e6a4076U,
  0xbe0accb1be8a234fU, 0x3efcc7ccbf17c1caU, 0x3ebf5c8cbf89495cU, 0x40035dbcbe596294U,
  0xbda2a9103f15390eU, 0x3ddfd265bf23f574U, 0x3ef39f643fa63655U, 0xbeeb225c3f877c80U,
  0xbcf6e31cU,
};


ai_buffer g_sine_model_data_map_activations[AI_SINE_MODEL_DATA_ACTIVATIONS_COUNT] = {
  AI_BUFFER_INIT(AI_FLAG_NONE,  AI_BUFFER_FORMAT_U8,
    AI_BUFFER_SHAPE_INIT(AI_SHAPE_BCWH, 4, 1, 128, 1, 1),
    128, NULL, NULL),    /* heap_overlay_pool */
  };
ai_buffer g_sine_model_data_map_weights[AI_SINE_MODEL_DATA_WEIGHTS_COUNT] = {
  AI_BUFFER_INIT(AI_FLAG_NONE,  AI_BUFFER_FORMAT_U8,
    AI_BUFFER_SHAPE_INIT(AI_SHAPE_BCWH, 4, 1, 1284, 1, 1),
    1284, NULL, s_sine_model_sine_model_weights_array_u64),   /* sine_model_weights_array */
  };


/*!
 * @brief Get network activations buffer initialized struct.
 * @ingroup sine_model_data
 * @param[in] ptr a pointer to the activations array storage area
 * @return an ai_buffer initialized struct
 */
AI_DEPRECATED
AI_API_ENTRY
ai_buffer ai_sine_model_data_activations_buffer_get(const ai_handle ptr)
{
  ai_buffer buf = AI_BUFFER_INIT(
    AI_FLAG_NONE, AI_BUFFER_FORMAT_U8,
    AI_BUFFER_SHAPE_INIT(AI_SHAPE_BCWH, 4, 1, AI_SINE_MODEL_DATA_ACTIVATIONS_SIZE, 1, AI_SINE_MODEL_DATA_ACTIVATIONS_COUNT),
    AI_SINE_MODEL_DATA_ACTIVATIONS_SIZE,
    NULL, ptr);
  return buf;
}

/*!
 * @brief Get network weights buffer initialized struct.
 * @ingroup sine_model_data
 * @param[in] ptr a pointer to the weights array storage area
 * @return an ai_buffer initialized struct
 */
AI_DEPRECATED
AI_API_ENTRY
ai_buffer ai_sine_model_data_weights_buffer_get(const ai_handle ptr)
{
  ai_buffer buf = AI_BUFFER_INIT(
    AI_FLAG_NONE, AI_BUFFER_FORMAT_U8|AI_BUFFER_FMT_FLAG_CONST,
    AI_BUFFER_SHAPE_INIT(AI_SHAPE_BCWH, 4, 1, AI_SINE_MODEL_DATA_WEIGHTS_SIZE, 1, AI_SINE_MODEL_DATA_WEIGHTS_COUNT),
    AI_SINE_MODEL_DATA_WEIGHTS_SIZE,
    NULL, ptr);
  return buf;
}


/*!
 * @brief Get network weights array pointer as a handle ptr.
 * @ingroup sine_model_data
 * @return a ai_handle pointer to the weights array
 */
AI_DEPRECATED
AI_API_ENTRY
ai_handle ai_sine_model_data_weights_get(void)
{
  static const ai_u8* const s_sine_model_weights_table[1 + 2] = {
    AI_PTR(AI_MAGIC_MARKER),
    AI_PTR(s_sine_model_sine_model_weights_array_u64),
    AI_PTR(AI_MAGIC_MARKER)
  };

  return AI_HANDLE_PTR(s_sine_model_weights_table);

}


/*!
 * @brief Get network params configuration data structure.
 * @ingroup sine_model_data
 * @return true if a valid configuration is present, false otherwise
 */
AI_API_ENTRY
ai_bool ai_sine_model_data_params_get(ai_network_params* params)
{
  if (!params) return false;
  
  const ai_buffer_array map_activations = 
    AI_BUFFER_ARRAY_OBJ_INIT(AI_FLAG_NONE, AI_SINE_MODEL_DATA_ACTIVATIONS_COUNT, g_sine_model_data_map_activations);
  
  const ai_buffer_array map_weights = 
    AI_BUFFER_ARRAY_OBJ_INIT(AI_FLAG_NONE, AI_SINE_MODEL_DATA_WEIGHTS_COUNT, g_sine_model_data_map_weights);

  return ai_platform_bind_network_params(params, &map_weights, &map_activations);
}


AI_API_DECLARE_END
